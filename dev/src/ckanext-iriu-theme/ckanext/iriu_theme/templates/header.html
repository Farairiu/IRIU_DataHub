{% ckan_extends %}

{% block header_account_container_content %}
  {{ super() }}
  {# Language Switcher - EN/FR toggle #}
  <nav class="lang-switcher" aria-label="{{ _('Language') }}">
    {% set current_locale = h.lang() %}
    {% if current_locale == 'fr' %}
      <a href="/en{{ request.path[3:] if request.path.startswith('/fr') else request.path }}" class="lang-btn" title="English">EN</a>
      <span class="lang-btn lang-active" title="{{ _('Current language') }}">FR</span>
    {% else %}
      <span class="lang-btn lang-active" title="{{ _('Current language') }}">EN</span>
      <a href="/fr{{ request.path }}" class="lang-btn" title="FranÃ§ais">FR</a>
    {% endif %}
  </nav>
{% endblock %}

{% block header_logo %}
<a class="logo" href="{{ h.url_for('home.index') }}">
  {% if g.site_logo %}
    <img src="{{ h.url_for_static(g.site_logo) }}" alt="{{ g.site_title }}" title="{{ g.site_title }}" />
  {% else %}
    <span class="site-logo-text">
      <span class="logo-icon"><i class="fa fa-database"></i></span>
      <span class="logo-text">{{ g.site_title }}</span>
    </span>
  {% endif %}
</a>
{% endblock %}
