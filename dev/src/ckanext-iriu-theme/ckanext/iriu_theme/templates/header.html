{% ckan_extends %}

{% block header_account_container_content %}
  {{ super() }}
  {# Language Switcher #}
  <nav class="lang-switcher" aria-label="{{ _('Language') }}">
    {% set current_locale = h.lang() %}
    {% set locales_offered = h.config_option_value('ckan.locales_offered') %}
    {% if locales_offered %}
      {% for locale in locales_offered.split() %}
        {% if locale == current_locale %}
          <span class="lang-btn lang-active" title="{{ _('Current language') }}">
            {% if locale == 'en' %}EN{% elif locale == 'fr' %}FR{% else %}{{ locale|upper }}{% endif %}
          </span>
        {% else %}
          <a href="{{ h.url_for(request.endpoint, locale=locale, **request.view_args) }}"
             class="lang-btn"
             title="{% if locale == 'en' %}English{% elif locale == 'fr' %}FranÃ§ais{% else %}{{ locale }}{% endif %}">
            {% if locale == 'en' %}EN{% elif locale == 'fr' %}FR{% else %}{{ locale|upper }}{% endif %}
          </a>
        {% endif %}
      {% endfor %}
    {% endif %}
  </nav>
{% endblock %}

{% block header_logo %}
<a class="logo" href="{{ h.url_for('home.index') }}">
  {% if g.site_logo %}
    <img src="{{ h.url_for_static(g.site_logo) }}" alt="{{ g.site_title }}" title="{{ g.site_title }}" />
  {% else %}
    <span class="site-logo-text">
      <span class="logo-icon"><i class="fa fa-database"></i></span>
      <span class="logo-text">{{ g.site_title }}</span>
    </span>
  {% endif %}
</a>
{% endblock %}
